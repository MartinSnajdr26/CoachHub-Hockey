{% extends "base.html" %}
{% block title %}Nominace na z√°pas{% endblock %}

{% block content %}
<h1>Nominace na z√°pas</h1>

<form method="POST">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <div style="margin:10px 0; display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
        <button type="button" class="btn-roster-select-all">‚úÖ Vybrat v≈°e</button>
        <button type="button" class="btn-roster-deselect-all">‚úñÔ∏è Zru≈°it v√Ωbƒõr</button>
    </div>
    <div class="players-grid">
        <!-- √ötoƒçn√≠ci -->
        <div>
            <h2>√ötoƒçn√≠ci</h2>
            <ul>
            {% for p in players if p.position == "F" %}
                <li>
                    <input type="checkbox" name="players" value="{{ p.id }}"
                        {% if p.id in roster_ids %}checked{% endif %}>
                    {{ p.name }}
                </li>
            {% else %}
                <li><i>≈Ω√°dn√≠ √∫toƒçn√≠ci</i></li>
            {% endfor %}
            </ul>
        </div>

        <!-- Obr√°nci -->
        <div>
            <h2>Obr√°nci</h2>
            <ul>
            {% for p in players if p.position == "D" %}
                <li>
                    <input type="checkbox" name="players" value="{{ p.id }}"
                        {% if p.id in roster_ids %}checked{% endif %}>
                    {{ p.name }}
                </li>
            {% else %}
                <li><i>≈Ω√°dn√≠ obr√°nci</i></li>
            {% endfor %}
            </ul>
        </div>

        <!-- Brank√°≈ôi -->
        <div>
            <h2>Brank√°≈ôi</h2>
            <ul>
            {% for p in players if p.position == "G" %}
                <li>
                    <input type="checkbox" name="players" value="{{ p.id }}"
                        {% if p.id in roster_ids %}checked{% endif %}>
                    {{ p.name }}
                </li>
            {% else %}
                <li><i>≈Ω√°dn√≠ g√≥lmani</i></li>
            {% endfor %}
            </ul>
        </div>
    </div>

    <button type="submit" style="margin-top:15px;">üíæ Ulo≈æit soupisku</button>
</form>

<hr>

<h2>Aktu√°ln√≠ nominace</h2>
<ul>
{% for r in roster %}
    <li>
        {{ r.player.name }} ({{ r.player.position }})
        <!-- ‚úè edit zat√≠m jen placeholder -->
        <a href="#" title="Upravit">‚úè</a>

        <!-- ‚ùå sma≈æe hr√°ƒçe ze soupisky -->
        <form action="{{ url_for('delete_from_roster', roster_id=r.id) }}" method="POST" style="display:inline;">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <button type="submit" title="Odebrat">‚ùå</button>
        </form>
    </li>
{% else %}
    <li><i>Zat√≠m ≈æ√°dn√≠ hr√°ƒçi v soupisce</i></li>
{% endfor %}
</ul>
{% endblock %}
